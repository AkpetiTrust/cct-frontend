import React, { useState } from "react";
import style from "./index.module.css";

function Ellipsis({ options }) {
  const [optionsAreShown, setOptionsAreShown] = useState(false);

  return (
    <div
      tabIndex={2}
      onFocus={() => {
        setOptionsAreShown(true);
      }}
      onBlur={() => {
        setOptionsAreShown(false);
      }}
      className={style.ellipsis}
    >
      <svg
        width="22"
        height="20"
        viewBox="0 0 22 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M11.1714 6C10.6266 6 10.1041 5.78929 9.71885 5.41421C9.33361 5.03914 9.11719 4.53043 9.11719 4C9.11719 3.46957 9.33361 2.96086 9.71885 2.58579C10.1041 2.21071 10.6266 2 11.1714 2C11.7162 2 12.2387 2.21071 12.6239 2.58579C13.0092 2.96086 13.2256 3.46957 13.2256 4C13.2256 4.53043 13.0092 5.03914 12.6239 5.41421C12.2387 5.78929 11.7162 6 11.1714 6ZM11.1714 12C10.6266 12 10.1041 11.7893 9.71885 11.4142C9.33361 11.0391 9.11719 10.5304 9.11719 10C9.11719 9.46957 9.33361 8.96086 9.71885 8.58579C10.1041 8.21071 10.6266 8 11.1714 8C11.7162 8 12.2387 8.21071 12.6239 8.58579C13.0092 8.96086 13.2256 9.46957 13.2256 10C13.2256 10.5304 13.0092 11.0391 12.6239 11.4142C12.2387 11.7893 11.7162 12 11.1714 12ZM11.1714 18C10.6266 18 10.1041 17.7893 9.71885 17.4142C9.33361 17.0391 9.11719 16.5304 9.11719 16C9.11719 15.4696 9.33361 14.9609 9.71885 14.5858C10.1041 14.2107 10.6266 14 11.1714 14C11.7162 14 12.2387 14.2107 12.6239 14.5858C13.0092 14.9609 13.2256 15.4696 13.2256 16C13.2256 16.5304 13.0092 17.0391 12.6239 17.4142C12.2387 17.7893 11.7162 18 11.1714 18Z"
          fill="#696969"
        />
      </svg>
      {optionsAreShown && (
        <div className={style.options}>
          {options.map(({ text, onClick }) => (
            <p
              key={text}
              onClick={() => {
                onClick();
                setOptionsAreShown(false);
              }}
            >
              {text}
            </p>
          ))}
        </div>
      )}
    </div>
  );
}

export default Ellipsis;
